# üöÄ Deploy —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è Expense Tracker

## üìÅ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏

### üê≥ `docker-compose.timeweb.yml`
**–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Timeweb Cloud MSK 30 (2GB RAM)**

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ Ollama: 1.2GB RAM (–≤–º–µ—Å—Ç–æ 1.5GB)
- ‚úÖ PostgreSQL: 512MB RAM
- ‚úÖ API: 256MB RAM
- ‚úÖ Analytics: 128MB RAM
- ‚úÖ –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã: 64-128MB RAM

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp deploy/docker-compose.timeweb.yml docker-compose.yml

# –ó–∞–ø—É—Å–∫
docker-compose up --build -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

### üîß `timeweb-setup.sh`
**–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∏ Docker Compose
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx, SSL, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
curl -sSL https://raw.githubusercontent.com/audiogenius/expense-tracker/main/deploy/timeweb-setup.sh | bash

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
chmod +x deploy/timeweb-setup.sh
./deploy/timeweb-setup.sh
```

### üöÄ `deploy-to-timeweb.sh`
**–ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –¥–æ–º–µ–Ω–æ–º**

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx —Å SSL
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Ollama

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –¥–æ–º–µ–Ω–æ–º
chmod +x deploy/deploy-to-timeweb.sh
./deploy/deploy-to-timeweb.sh your-domain.com
```

---

## üéØ –ö–∞–∫–æ–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### üÜï **–ü–µ—Ä–≤—ã–π —Ä–∞–∑ (–Ω–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)**
```bash
# –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
curl -sSL https://raw.githubusercontent.com/audiogenius/expense-tracker/main/deploy/timeweb-setup.sh | bash
```

### üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ**
```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–µ–∫—Ç
cd /root/expense-tracker

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin feature/performance-optimization-2gb-ram

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose up --build -d
```

### üåê **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –¥–æ–º–µ–Ω–æ–º**
```bash
# –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./deploy/deploy-to-timeweb.sh your-domain.com
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
```bash
# –û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
free -h

# Docker —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
docker stats --no-stream

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker stats expense_ollama
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏
docker-compose logs -f

# Health checks
curl http://localhost:8080/api/health
curl http://localhost:8081/health
curl http://localhost:11434/api/tags
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è 2GB RAM

### üê≥ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:**
- **Ollama**: 1.2GB (–æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å)
- **PostgreSQL**: 512MB
- **API**: 256MB
- **Analytics**: 128MB
- **Frontend**: 128MB
- **Bot**: 128MB
- **OCR**: 128MB
- **Proxy**: 64MB

### üîß **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Alpine Linux –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Ollama
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤—ã –ø–∞–º—è—Ç–∏
- Health checks –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç—è–∂–µ–ª—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose restart ollama analytics

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
docker stats
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Ollama
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:11434/api/tags

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart ollama
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose logs db

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart db
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub Issues**: https://github.com/audiogenius/expense-tracker/issues
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [HOSTING_SETUP.md](../HOSTING_SETUP.md)
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: [docs/updates/](../docs/updates/)

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ Timeweb Cloud MSK 30! üöÄ**
